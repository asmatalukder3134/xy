webpackJsonp([15,37],{1136:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=o(0),a=i(r),u=o(9),s=i(u),l=o(3),d=n(l),c=o(49),p=n(c),f=o(24),g=i(f),h=o(1628),b=function(e,t){return{store:e,actions:t,load:function(t,o){var n=t+1,i=o,r=document.createElement("div");r.id="reactPage"+n,r.className="reactPage",r.setAttribute("data-react-page-number",n),i.insertBefore(r,i.firstChild),s.default.render(a.default.createElement(d.Provider,{store:e},a.default.createElement("div",null,a.default.createElement(h.EditorOverlayWithRedux,{pageNumber:n}))),document.getElementById(r.id))}}},w=b(g.default,p);window.FormSwift={React:w},t.default=b},1422:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p=o(23),f=n(p),g=o(789),h=n(g),b=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.colorValues=[{color:"#000000",label:"Black"},{color:"#999999",label:"Grey"},{color:"#ffffff",label:"White"},{color:"#ff0a17",label:"Red"},{color:"#0073bb",label:"Blue"},{color:"#00ae5a",label:"Green"},{color:"#72379b",label:"Purple"},{color:"#fffc4d",label:"Yellow"}],e.getActionSelection=e.getActionSelection.bind(e),e.getColorButtonContent=e.getColorButtonContent.bind(e),e}return a(t,e),u(t,[{key:"getActionSelection",value:function(){var e=this;return this.colorValues.reduce(function(t,o){return t.push({action:e.props.onDropdownToggleAction.bind(e,"color",o.color),className:"free-write-font-color text-color-option",colorLabel:o.label,label:"",labelClass:"text-color-circle",labelStyle:{backgroundColor:o.color}}),t},[])}},{key:"getColorButtonContent",value:function(){return l.default.createElement("span",{className:"disable-select font-caption font-color-caption",style:{backgroundColor:this.props.data.color}})}},{key:"render",value:function(){return l.default.createElement(h.default,{actionSelection:this.getActionSelection(),buttonClass:"font-color-button",buttonContent:this.getColorButtonContent(),buttonId:"colorFreewriteToolbarDropdownBtn",data:this.props.data,trackingAction:"Font Formatting Toolbar",trackingCategory:"Text Color"})}}]),t}(l.default.Component);t.default=b,b.propTypes={data:f.default.popup.isRequired,onDropdownToggleAction:c.default.func.isRequired}},1423:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p=o(452),f=o(791),g=n(f),h=o(23),b=n(h),w=o(790),m=n(w),y=o(789),S=n(y),v=o(1422),R=n(v),T=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onToggleBold=e.onToggleAction.bind(e,"bold"),e.onToggleItalic=e.onToggleAction.bind(e,"italic"),e.onDropdownToggleArial=e.onDropdownToggleAction.bind(e,"fontFamily","Arial"),e.onDropdownToggleTimesNewRoman=e.onDropdownToggleAction.bind(e,"fontFamily","Times New Roman"),e.onDropdownToggleCourier=e.onDropdownToggleAction.bind(e,"fontFamily","Courier"),e.onDropdownToggleSignature=e.onDropdownToggleSignature.bind(e),e.onDropdownToggleAction=e.onDropdownToggleAction.bind(e),e.getBoldTextButton=e.getBoldTextButton.bind(e),e.getSignatureAction=e.getSignatureAction.bind(e),e.getArialFontFamilyButton=e.getArialFontFamilyButton.bind(e),e.getTimesNewRomanFontFamilyButton=e.getTimesNewRomanFontFamilyButton.bind(e),e.getCourierFontFamilyButton=e.getCourierFontFamilyButton.bind(e),e.getAlluraFontFamilyButton=e.getAlluraFontFamilyButton.bind(e),e.getDeleteButton=e.getDeleteButton.bind(e),e}return a(t,e),u(t,[{key:"onDropdownToggleAction",value:function(e,t){var o={};o[e]=t,this.props.onAttributesChanged(o)}},{key:"onToggleAction",value:function(e,t){var o=!t[e],n={};n[e]=o,this.props.onAttributesChanged(n)}},{key:"onDropdownToggleSignature",value:function(){this.onDropdownToggleAction("fontFamily","Allura"),this.onDropdownToggleAction("fontSize",60),this.props.createSignatureEvent("signature_add_type",p.SignatureEventEnum.EVENT_DATA,window.COOKIE.get("userid"))}},{key:"getBoldTextButton",value:function(e){var t="bold-button "+(e.bold?"active":""),o=l.default.createElement("i",{className:"icon-bold"});return l.default.createElement(m.default,{trackingCategory:"Bold",trackingAction:"Font Formatting Toolbar",key:"bold",onClick:this.onToggleBold,data:e,buttonClass:t,buttonContent:o,buttonId:"freewriteBuilderBoldBtn"})}},{key:"getDeleteButton",value:function(e){var t="btn-danger",o=l.default.createElement("i",{className:"icon-trash icon-white"});return["image","eraser","highlighter","redact"].indexOf(e.type)>-1?t+=" remove_img_btn":"text"===e.type&&(t+=" remove_text_btn"),l.default.createElement(m.default,{key:"delete",onClick:this.props.onDelete,data:e,buttonClass:t,buttonContent:o,buttonId:"freewriteBuilderDeleteBtn"})}},{key:"getArialFontFamilyButton",value:function(){return{action:this.onDropdownToggleArial,className:"free-write-builder-arial-button",label:"Arial"}}},{key:"getTimesNewRomanFontFamilyButton",value:function(){return{action:this.onDropdownToggleTimesNewRoman,className:"free-write-builder-times-new-roman-button",label:"Times New Roman"}}},{key:"getCourierFontFamilyButton",value:function(){return{action:this.onDropdownToggleCourier,className:"free-write-builder-courier-button",label:"Courier"}}},{key:"getAlluraFontFamilyButton",value:function(){return{action:this.onDropdownToggleSignature,className:"free-write-builder-signature-button",label:"Signature"}}},{key:"getSignatureAction",value:function(){var e=g.default.getSignatureFontFamilyButton();return this.props.signatureAsFont&&(e=this.getAlluraFontFamilyButton()),e}},{key:"getFontFamilyButton",value:function(e,t){var o=[this.getArialFontFamilyButton(),this.getTimesNewRomanFontFamilyButton(),this.getCourierFontFamilyButton(),this.getSignatureAction()],n=t||o,i={fontFamily:e.fontFamily},r="Allura"===e.fontFamily?"Signature":e.fontFamily.replace(/"/g,""),a=l.default.createElement("span",{className:"disable-select font-caption font-family-caption",style:i},r);return l.default.createElement(S.default,{trackingCategory:"Font",trackingAction:"Font Formatting Toolbar",key:"font-family",data:e,actionSelection:n,buttonClass:"font-family-button",buttonContent:a,buttonId:"familyFreewriteToolbarDropdownBtn"})}},{key:"getFontSizeButton",value:function(e){var t=this,o=[8,10,12,14,16,18,20,24,28,32,36,42,48,52,60,72],n=[];Object.keys(o).forEach(function(e){var i=o[e];n.push({action:t.onDropdownToggleAction.bind(t,"fontSize",i),label:i.toString()})});var i=l.default.createElement("span",{className:"disable-select font-caption font-size-caption"},e.fontSize);return l.default.createElement(S.default,{key:"font-size",data:e,actionSelection:n,buttonClass:"font-size-button",buttonContent:i,buttonId:"sizeFreewriteToolbarDropdownBtn",trackingCategory:"Font Size",trackingAction:"Font Formatting Toolbar"})}},{key:"getItalicTextButton",value:function(e){var t="italic-button "+(e.italic?"active":""),o=l.default.createElement("i",{className:"icon-italic"});return l.default.createElement(m.default,{buttonClass:t,buttonContent:o,buttonId:"freewriteBuilderItalicBtn",data:e,key:"italic",onClick:this.onToggleItalic,trackingAction:"Font Formatting Toolbar",trackingCategory:"Italic"})}},{key:"getToolbarButtons",value:function(e){var t=null;e.requestType&&(t=[this.getArialFontFamilyButton(),this.getTimesNewRomanFontFamilyButton(),this.getCourierFontFamilyButton()]);var o=[this.getFontFamilyButton(e,t),this.getFontSizeButton(e),this.getBoldTextButton(e),this.getItalicTextButton(e),l.default.createElement(R.default,{data:e,key:"font-color",onDropdownToggleAction:this.onDropdownToggleAction})];return e.requestType?o:[].concat(o,[this.getDeleteButton(e)])}},{key:"render",value:function(){return this.getToolbarButtons(this.props.data)}}]),t}(l.default.Component);t.default=T,T.defaultProps={signatureAsFont:!1},T.propTypes={createSignatureEvent:c.default.func.isRequired,data:b.default.popup.isRequired,onAttributesChanged:c.default.func.isRequired,onDelete:c.default.func.isRequired,signatureAsFont:c.default.bool}},1425:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FreeWriteRequestSignatureSignPopup=t.FreeWriteRequestSignatureTextPopup=t.FreeWriteRequestSignatureDatePopup=void 0;var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p=o(821),f=n(p),g=o(593),h=n(g),b=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={hovering:!1},e.onClick=e.onClick.bind(e),e.getClassNames=e.getClassNames.bind(e),e.getStyles=e.getStyles.bind(e),e.getIconUrl=e.getIconUrl.bind(e),e}return a(t,e),u(t,[{key:"onMouseEnter",value:function(){this.setState({hovering:!0})}},{key:"onMouseLeave",value:function(){this.setState({hovering:!1})}},{key:"onClick",value:function(){if(!this.props.disabled)switch(this.props.data.requestType){case"sign":h.default.openSigManagerFromPopup(this.props.id)}}},{key:"getClassNames",value:function(){return!this.props.disabled&&this.props.isSelected?"request-signature-widget share_widget active":"request-signature-widget share_widget"}},{key:"getStyles",value:function(){return{height:this.props.data.height,width:this.props.data.width}}},{key:"getIconUrl",value:function(){if(this.props.data.iconUrl)return this.props.data.iconUrl;var e="";switch(this.props.data.requestType){case"date":e="/free-write/assets/img/signature-request/field-date-2x.png";break;case"sign":e="/free-write/assets/img/signature-request/field-signature-2x.png",!this.props.disabled&&this.props.isSelected&&(e="/free-write/assets/img/signature-request/icon-sign-button-2x.png");break;case"text":e="/free-write/assets/img/signature-request/field-pencil-2x.png"}return e}},{key:"render",value:function(){var e=this.props.data.height,t=.5*e;t=Math.min(t,18);var o={fontSize:t,height:e,lineHeight:e+"px"},n=Math.min(e/4,10),i=Math.min(e/12,6),r=Math.min(e/4,10),a=Math.min(e/6,6),u=e/2-9,s={height:t,paddingLeft:r,paddingRight:a,paddingTop:u,marginLeft:n,marginRight:i,maxHeight:18},d=this.getClassNames();return l.default.createElement("div",{onClick:this.onClick,className:d,style:this.getStyles()},l.default.createElement("div",{className:"request-signature-field-icon pull-left"},l.default.createElement("img",{alt:"",src:this.getIconUrl(),style:s})),l.default.createElement("div",{className:"request-signature-field-name pull-left",style:o},this.props.data.title),l.default.createElement("div",{className:"request-signature-resize-icon pull-right share_lines"}))}}]),t}(l.default.Component);t.default=b,b.propTypes={id:c.default.string.isRequired,disabled:c.default.bool.isRequired,isSelected:c.default.bool.isRequired,data:c.default.shape({requestType:c.default.string.isRequired,width:c.default.number.isRequired,height:c.default.number.isRequired,title:c.default.string.isRequired,iconUrl:c.default.string}).isRequired};t.FreeWriteRequestSignatureDatePopup=(0,f.default)(b),t.FreeWriteRequestSignatureTextPopup=(0,f.default)(b),t.FreeWriteRequestSignatureSignPopup=(0,f.default)(b,{resizeProps:{minWidth:165}})},1427:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RequestSignaturePopupWrapper=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},d=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(0),p=i(c),f=o(4),g=o(3),h=n(g),b=o(1),w=i(b),m=o(819),y=i(m),S=o(2),v=i(S),R=o(170),T=i(R),_=o(619),E=o(49),F=n(E),C=t.RequestSignaturePopupWrapper=function(e){function t(){a(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onAttributesChanged=e.onAttributesChanged.bind(e),e.onClick=e.onClick.bind(e),e}return s(t,e),d(t,[{key:"shouldComponentUpdate",value:function(e,t){var o=this.props,n=o.activePopup,i=r(o,["activePopup"]),a=e.activePopup,u=r(e,["activePopup"]),s=t!==this.state,l=JSON.stringify(i)!==JSON.stringify(u);return this.props.id===n||this.props.id===a||s||l}},{key:"onClick",value:function(){if(!this.props.didAcceptTerms)return void this.props.showTermsOfServiceErrorBanner();switch(this.props.editorState.mode){case T.default.REQUEST_SIGNATURE:this.isActive()||this.props.onAttributesChanged(this.props.id,{}),window.ShareEditor.clearActiveShareFieldButtons();break;case T.default.REQUEST_SIGNATURE_FILL:window.ShareEditor.reactUpdateRequestNextIdx(this.props.id),this.props.onAttributesChanged(this.props.id,{})}}},{key:"onAttributesChanged",value:function(e,t){var o={},n={},i=["width","height","page-idx","z-index"];switch(this.props.editorState.mode){case T.default.REQUEST_SIGNATURE:i.forEach(function(e){t[e]&&(n[e]=t[e])}),o=l({},this.props.data.requestSettings,t),this.props.onAttributesChanged(e,l({},n,{requestSettings:o})),window.ShareEditor.clearActiveShareFieldButtons();break;case T.default.REQUEST_SIGNATURE_FILL:i.forEach(function(e){t[e]&&(n[e]=t[e])}),o=l({},this.props.data.contentSettings,t),this.props.onAttributesChanged(e,l({},n,{contentSettings:o})),window.ShareEditor.updateSharePopupRequestIsDone(),window.ShareEditor.updateRequestModeRecipient()}}},{key:"isActive",value:function(){return this.props.activePopup===this.props.id}},{key:"showRequestedPopup",value:function(){switch(this.props.data.requestType){case"date":var e=this.isActive()&&this.props.editorState.mode===T.default.REQUEST_SIGNATURE_FILL,t=this.props.data.contentSettings.text;return e||t;case"sign":return!!this.props.data.contentSettings.imageUrl;case"text":var o=this.isActive()&&this.props.editorState.mode===T.default.REQUEST_SIGNATURE_FILL,n=this.props.data.contentSettings.text;return o||n;default:return!1}}},{key:"render",value:function(){var e=l({},this.props.data),t="";this.showRequestedPopup()?(t="request-signature-fill",e=l({},e,this.props.data.contentSettings)):e=l({},e,this.props.data.requestSettings);var o=this.props.editorState.mode,n=!this.props.didAcceptTerms&&"request-fill"===o,i=(0,v.default)("request-signature-container",{active:this.isActive(),"request-signature-disabled":n});return p.default.createElement(y.default,{activePopup:this.props.activePopup,className:i,data:e,disabled:this.props.disabled||n,draggable:this.props.draggable,extraClassName:t,id:this.props.id,nextTextareaState:this.props.nextTextareaState,onAttributesChanged:this.onAttributesChanged,onClick:this.onClick,resizable:this.props.resizable})}}]),t}(p.default.Component);C.propTypes={activePopup:w.default.string.isRequired,id:w.default.string.isRequired,data:w.default.shape({requestType:w.default.string.isRequired,width:w.default.number.isRequired,height:w.default.number.isRequired,requestSettings:w.default.shape({iconUrl:w.default.string,title:w.default.string}).isRequired,contentSettings:w.default.shape({type:w.default.string.isRequired,text:w.default.string,bold:w.default.bool,italic:w.default.bool,fontFamily:w.default.string,fontSize:w.default.number,imageUrl:w.default.string}).isRequired}).isRequired,didAcceptTerms:w.default.bool.isRequired,disabled:w.default.bool.isRequired,draggable:w.default.bool.isRequired,resizable:w.default.bool,onAttributesChanged:w.default.func.isRequired,nextTextareaState:w.default.func.isRequired,editorState:w.default.shape({mode:w.default.oneOf([T.default.EDIT,T.default.VIEW,T.default.REQUEST_SIGNATURE,T.default.REQUEST_SIGNATURE_WAIT,T.default.REQUEST_SIGNATURE_FILL]).isRequired,isRequestSignatureExperience:w.default.bool.isRequired}).isRequired,showTermsOfServiceErrorBanner:w.default.func.isRequired},C.defaultProps={resizable:!1};var P=function(e){return(0,f.bindActionCreators)({onAttributesChanged:F.changePopup,showTermsOfServiceErrorBanner:_.showTermsOfServiceErrorBanner},e)},k=function(e){return{didAcceptTerms:e.RequestSignatureReducer.didAcceptTerms}},O=h.connect(k,P)(C);t.default=O},1447:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(0),d=n(l),c=o(1),p=n(c),f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){if(!this.props.visible)return null;var e={borderColor:this.props.lineColor,position:"absolute"};"left"===this.props.linePosition?e.marginLeft=this.props.margin:e.marginTop=this.props.margin;var t="left"===this.props.linePosition?"ruler-tool-left":"ruler-tool-bottom";return d.default.createElement("div",{className:t,style:e})}}],[{key:"createRulers",value:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return Object.getOwnPropertyNames(e).forEach(function(i){var r=u({},o,e[i]);n[i]=d.default.createElement(t,r)}),n}}]),t}(d.default.Component);t.default=f,f.defaultProps={lineColor:"red",linePosition:"left",margin:0},f.propTypes={lineColor:p.default.string,linePosition:p.default.string,margin:p.default.number,visible:p.default.bool.isRequired}},1627:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onClick=e.onClick.bind(e),e}return a(t,e),u(t,[{key:"onClick",value:function(){this.props.disabled||(this.setState({checked:!this.props.data.checked}),this.props.onAttributesChanged({checked:!this.props.data.checked}))}},{key:"getClassName",value:function(){var e="checkbox";return this.props.data.checked&&(e+=" checked"),e}},{key:"render",value:function(){var e={height:this.props.data.height,width:this.props.data.width};return l.default.createElement("button",{className:this.getClassName(),onClick:this.onClick,disabled:this.props.disabled,style:e})}}]),t}(l.default.Component);t.default=p,p.propTypes={data:c.default.shape({type:c.default.string.isRequired,x:c.default.number.isRequired,y:c.default.number.isRequired,width:c.default.number.isRequired,height:c.default.number.isRequired,pageIdx:c.default.number.isRequired,checked:c.default.bool.isRequired,draggable:c.default.bool.isRequired}).isRequired,onAttributesChanged:c.default.func.isRequired,disabled:c.default.bool.isRequired}},1628:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EditorOverlayWithRedux=void 0;var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(0),d=i(l),c=o(1),p=i(c),f=o(3),g=n(f),h=o(49),b=n(h),w=o(819),m=i(w),y=o(1427),S=i(y),v=o(170),R=i(v),T=function(e){function t(e){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.pageNumber=o.props.pageNumber,o.nextTextareaState=o.nextTextareaState.bind(o),o.isDraggable=o.isDraggable.bind(o),o.isResizable=o.isResizable.bind(o),o.isDisabled=o.isDisabled.bind(o),o}return u(t,e),s(t,[{key:"getActivePopup",value:function(e){var t="";return this.props.data.activePopup&&(this.isViewOnly(e)||(t=this.props.data.activePopup.toString())),t}},{key:"nextTextareaState",value:function(e){this.props.dispatch(b.updateTextareaState(e))}},{key:"isDisabled",value:function(e){var t=e.disabled;switch(this.props.editorState.mode){case R.default.EDIT:break;case R.default.SIGN:t="image"!==e.type;break;case R.default.VIEW:case R.default.REQUEST_SIGNATURE:case R.default.REQUEST_SIGNATURE_WAIT:t=!0;break;case R.default.REQUEST_SIGNATURE_FILL:t="request-signature"!==e.type}return t}},{key:"isDraggable",value:function(e){var t=e.draggable;switch(this.props.editorState.mode){case R.default.EDIT:break;case R.default.SIGN:t="image"===e.type;break;case R.default.VIEW:t=!1;break;case R.default.REQUEST_SIGNATURE:t="request-signature"===e.type;break;case R.default.REQUEST_SIGNATURE_WAIT:case R.default.REQUEST_SIGNATURE_FILL:t=!1}return t}},{key:"isResizable",value:function(e){var t=e.resizable;switch(this.props.editorState.mode){case R.default.EDIT:break;case R.default.SIGN:case R.default.VIEW:t=!1;break;case R.default.REQUEST_SIGNATURE:t="request-signature"===e.type;break;case R.default.REQUEST_SIGNATURE_WAIT:case R.default.REQUEST_SIGNATURE_FILL:t=!1}return t}},{key:"isViewOnly",value:function(e){var t=void 0;switch(this.props.editorState.mode){case R.default.EDIT:t=!1;break;case R.default.SIGN:t=!("image"===e.type);break;case R.default.VIEW:t=!0;break;case R.default.REQUEST_SIGNATURE:t=!1;break;case R.default.REQUEST_SIGNATURE_WAIT:t=!0;break;case R.default.REQUEST_SIGNATURE_FILL:t=!("request-signature"===e.type);break;default:t=!0}return t}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.data.popups).filter(function(t){return e.props.data.popups[t].pageIdx===e.pageNumber||e.props.data.popups[t].isGlobal});return d.default.createElement("div",{className:"editor-overlay"},t.map(function(t){var o=e.props.data.popups[t];return o.isGlobal&&(o.pageIdx=e.pageNumber),o.requestType?d.default.createElement(S.default,{key:t,activePopup:e.getActivePopup(o),data:o,draggable:e.isDraggable(o),resizable:e.isResizable(o),disabled:e.isDisabled(o),editorState:e.props.editorState,id:t,nextTextareaState:e.nextTextareaState}):d.default.createElement(m.default,{key:t,activePopup:e.getActivePopup(o),data:o,id:t,draggable:e.isDraggable(o),resizable:e.isResizable(o),disabled:e.isDisabled(o),nextTextareaState:e.nextTextareaState,fixedPopupSize:o.fixedPopupSize})}))}}]),t}(d.default.Component);t.default=T,T.propTypes={pageNumber:p.default.number.isRequired,data:p.default.shape({activePopup:p.default.string,popups:p.default.object.isRequired}).isRequired,dispatch:p.default.func.isRequired,editorState:p.default.shape({mode:p.default.oneOf([R.default.EDIT,R.default.SIGN,R.default.VIEW,R.default.REQUEST_SIGNATURE,R.default.REQUEST_SIGNATURE_WAIT,R.default.REQUEST_SIGNATURE_FILL]).isRequired}).isRequired};var _=function(e){return{data:e.popupHandler,nextTextareaState:e.textareaHandler,editorState:e.EditorStateHandler}};t.EditorOverlayWithRedux=g.connect(_)(T)},1629:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p={pointerEvents:"none",width:"100%",height:"100%",display:"block",position:"absolute"},f=function(e){function t(e){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={hovering:!1},o}return a(t,e),u(t,[{key:"render",value:function(){return l.default.createElement("img",{src:this.props.data.imageUrl,className:"img stack move_img_bt",style:p,disabled:this.props.disabled,role:"presentation",alt:""})}}]),t}(l.default.Component);t.default=f,f.propTypes={disabled:c.default.bool.isRequired,data:c.default.shape({imageUrl:c.default.string.isRequired}).isRequired}},1630:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={hovering:!1,disabled:!1},e.onLoad=e.onLoad.bind(e),e}return a(t,e),u(t,[{key:"onMouseEnter",value:function(){this.setState({hovering:!0})}},{key:"onMouseLeave",value:function(){this.setState({hovering:!1})}},{key:"onLoad",value:function(e){this.props.onAttributesChanged({aspectRatio:e.target.width/e.target.height,height:e.target.height},!1),this.setState({disabled:this.props.disabled})}},{key:"render",value:function(){var e={pointerEvents:"none",width:this.props.data.width,minWidth:this.props.data.width};return l.default.createElement("img",{className:"user-added-image",src:this.props.data.imageUrl,style:e,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onLoad:this.onLoad,disabled:this.state.disabled,alt:""})}}]),t}(l.default.Component);t.default=p,p.propTypes={data:c.default.shape({imageUrl:c.default.string.isRequired,type:c.default.string.isRequired,x:c.default.number.isRequired,y:c.default.number.isRequired,width:c.default.number.isRequired,pageIdx:c.default.number.isRequired,draggable:c.default.bool.isRequired}).isRequired,disabled:c.default.bool.isRequired,onAttributesChanged:c.default.func.isRequired}},1631:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p=o(818),f=n(p),g=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return l.default.createElement(f.default,{data:this.props.data,disabled:this.props.disabled})}}]),t}(f.default);t.default=g,g.propTypes={data:c.default.shape({imageUrl:c.default.string.isRequired}).isRequired,disabled:c.default.bool.isRequired}},1632:function(e,t,o){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p=o(2),f=n(p),g=function(t){function o(e){i(this,o);var t=r(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.state={hovering:!1,width:e.data.width},t.onChange=t.onChange.bind(t),t.onMouseEnter=t.onMouseEnter.bind(t),t.onMouseLeave=t.onMouseLeave.bind(t),t.getStyles=t.getStyles.bind(t),t.getClassName=t.getClassName.bind(t),t.getTextWidth=t.getTextWidth.bind(t),t.setTextAreaWidth=t.setTextAreaWidth.bind(t),t.updateCtxFont=t.updateCtxFont.bind(t),t.ctx=o.getCanvasContext(e.data),t}return a(o,t),u(o,null,[{key:"getEmPxScaleFactor",value:function(){return parseFloat(e("body").css("font-size"))}},{key:"getFontSizeEm",value:function(e){return parseFloat(e)/o.getEmPxScaleFactor()}},{key:"getScaledFontSize",value:function(e){return e/10*o.getEmPxScaleFactor()}},{key:"getFontProperties",value:function(e){return{fontSize:e.fontSize,fontFamily:e.fontFamily,italic:e.italic,bold:e.bold}}},{key:"createCanvas",value:function(){return document.createElement("canvas")}},{key:"getCtxFont",value:function(e){var t=e.fontSize,n=e.fontFamily,i=e.italic,r=e.bold,a=o.getScaledFontSize(t);return(i?"italic":"normal")+" normal "+(r?"bold":"normal")+" "+a+"px "+n}},{key:"getCanvasContext",value:function(e){var t=o.createCanvas(),n=t.getContext("2d");return n.font=o.getCtxFont(e),n}}]),u(o,[{key:"componentDidMount",value:function(){this.setTextAreaWidth()}},{key:"componentWillReceiveProps",value:function(e){var t="Allura"===e.data.fontFamily;if(JSON.stringify(this.props.data)!==JSON.stringify(e.data)&&!t){var o={bold:e.data.bold,italic:e.data.italic,fontFamily:e.data.fontFamily,fontSize:e.data.fontSize,color:e.data.color};this.props.nextTextareaState(o)}}},{key:"componentDidUpdate",value:function(e){this.updateCtxFont(e),this.setTextAreaWidth()}},{key:"onChange",value:function(e){this.props.onAttributesChanged({backgroundColor:window.TEST_BG_MODE?"#ffffff":null,text:e.currentTarget.value})}},{key:"onMouseEnter",value:function(){this.setState({hovering:!0})}},{key:"onMouseLeave",value:function(){this.setState({hovering:!1})}},{key:"getClassName",value:function(){return(0,f.default)("normal",{hover:this.state.hovering,bold:this.props.data.bold,italic:this.props.data.italic})}},{key:"getTextWidth",value:function(e){for(var t=e.split("\n"),o=0,n=0;n<t.length;n+=1){var i=this.ctx.measureText(t[n]).width;i>o&&(o=i)}return o+20}},{key:"setTextAreaWidth",value:function(){var e=this.props,t=e.fixedPopupSize,o=e.data;if(!t){var n=o.text,i=o.placeholderText,r=n;i&&!n&&(r=i);var a=this.getTextWidth(r);this.state.width!==a&&this.setState({width:a})}}},{key:"getStyles",value:function(){var e=o.getScaledFontSize(this.props.data.fontSize),t={color:this.props.data.color,fontFamily:this.props.data.fontFamily,fontSize:e,width:this.state.width,height:this.props.fixedPopupSize?this.props.data.height:"auto"};return this.props.data.bold&&(t.fontWeight="bold"),this.props.data.italic&&(t.fontStyle="italic"),t}},{key:"updateCtxFont",value:function(e){var t=o.getFontProperties(this.props.data),n=o.getFontProperties(e.data);JSON.stringify(t)!==JSON.stringify(n)&&(this.ctx.font=o.getCtxFont(this.props.data))}},{key:"render",value:function(){var e=this.props.data.text.split("\n").length;return l.default.createElement("div",{className:"under-area",style:{backgroundColor:window.TEST_BG_MODE?this.props.data.backgroundColor:null}},l.default.createElement("textarea",{autoFocus:!0,className:this.getClassName(),disabled:this.props.disabled,onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,placeholder:this.props.data.placeholderText,rows:e,style:this.getStyles(),value:this.props.data.text}))}}]),o}(l.default.Component);t.default=g,g.propTypes={data:c.default.shape({type:c.default.string.isRequired,x:c.default.number.isRequired,y:c.default.number.isRequired,width:c.default.number,height:c.default.number,pageIdx:c.default.number.isRequired,text:c.default.string.isRequired,bold:c.default.bool.isRequired,italic:c.default.bool.isRequired,fontFamily:c.default.string.isRequired,fontSize:c.default.number.isRequired,color:c.default.string.isRequired,draggable:c.default.bool.isRequired,placeholderText:c.default.string,backgroundColor:c.default.string}).isRequired,onAttributesChanged:c.default.func.isRequired,nextTextareaState:c.default.func.isRequired,disabled:c.default.bool.isRequired,fixedPopupSize:c.default.bool},g.defaultProps={fixedPopupSize:!1}}).call(t,o(15))},1635:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moveFreeWritePopup=void 0;var n=o(49),i=o(623),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.moveFreeWritePopup=function(e,t,o){return function(i){i((0,n.movePopup)(e,t,o)),i({type:r.default.RULER_IS_ACTIVE,active:!0})}}},234:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(3),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(n),r=o(339),a=o(4),u=function(e){var t=function(e){return(0,a.bindActionCreators)({setZoomMode:r.setZoomMode},e)},o=function(e){return{isZoomed:e.EditorStateHandler.isZoomed}};return i.connect(o,t)(e)};t.default=u},2417:function(e,t,o){e.exports=o(1136)},34:function(e,t,o){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=o(21),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a={getDocumentContentToSave:function(){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.getDocumentContentToSave())},getDocumentShareContentToSave:function(){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.getDocumentShareContentToSave())},getDefaultDragAndDropDisabled:function(){return window.FormSwift.React.store.getState().UploadHandler.defaultDropTrackingDisabled},disableDefaultDragAndDropTracking:function(){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.disableDefaultDragAndDropTracking())},enableDefaultDragAndDropTracking:function(){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.enableDefaultDragAndDropTracking())},getState:function(){return window.FormSwift.React.store.getState()},getZIndexPopup:function(){return window.FormSwift.React.store.getState().popupHandler.zIndex},setZIndexPopup:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setZIndexPopup(e))},clearActivePopup:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.clearActivePopup())},createCheckboxPopup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:28,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window.getPageIndex(),r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.createCheckboxPopup(e,t,o,n,i,r,a))},createTextPopup:function(e){var t=e.x,o=void 0===t?0:t,n=e.y,i=void 0===n?0:n,r=e.width,a=void 0===r?12:r,u=e.height,s=void 0===u?28:u,l=e.pageIdx,d=void 0===l?window.getPageIndex():l,c=e.text,p=void 0===c?"":c,f=e.bold,g=void 0!==f&&f,h=e.italic,b=void 0!==h&&h,w=e.fontFamily,m=void 0===w?"Arial":w,y=e.fontSize,S=void 0===y?17:y,v=e.color,R=void 0===v?"#000000":v,T=e.draggable,_=void 0===T||T,E=e.disabled,F=void 0!==E&&E,C=e.fixedPopupSize,P=void 0!==C&&C;window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.createTextPopup({x:o,y:i,width:a,height:s,pageIdx:d,text:p,bold:g,italic:b,fontFamily:m,fontSize:S,color:R,draggable:_,disabled:F,fixedPopupSize:P}))},setRulerActive:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setRulerActive(e))},setEditorMode:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setEditorMode(e))},setUseShareRequest:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setUseShareRequest(e))},enableSign:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.enableSign())},enableEdit:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.enableEdit())},enableView:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.enableView())},enableRequestSignature:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.enableRequestSignature())},enableRequestSignatureWait:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.enableRequestSignatureWait())},enableRequestSignatureFill:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.enableRequestSignatureFill())},unwrapRequestSignaturePopups:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.unwrapRequestSignaturePopups())},showSignatureDeclineToolbar:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.showSignatureDeclineToolbar())},createRequestSignaturePopup:function(e,t,o,n,i,r,a,u,s,l,d){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.createRequestSignaturePopup(e,t,o,n,i,r,a,u,s,l,d))},createImagePopup:function(e,t,o,n,i,r){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.createImgPopup(e,t,o,n,i,r))},createLogoPopup:function(e,t,o,n,i){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.createLogoPopup(e,t,o,n,i))},createResizablePopup:function(e,t,o,n,i,r,a,u){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.createResizablePopup(e,t,o,n,i,r,a,u))},createSignaturePopup:function(e,t,o,n,i,r){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.createSigPopup(e,t,o,n,i,r))},deletePopup:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.deletePopup(e))},deleteSharePopups:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.deleteSharePopups())},movePopup:function(e,t,o){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.movePopup(e,t,o))},updatePopup:function(e,t){e&&window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.changePopup(e,t))},updateRequestSignaturePopupContentSettings:function(e,t){var o=a.getState(),i=o.popupHandler.popups[e],r=n({},i.contentSettings,t);window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.changePopup(e,{contentSettings:r}))},showDownloadOverlay:function(){window.FormSwift.React.store.dispatch(window.window.FormSwift.React.actions.showDownloadOverlay())},openSignatureManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.loadPopupIdToSignatureManager(e))},closeSignatureManager:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.hideFreeWriteSignatureSection())},savePopupAsSignature:function(e,t){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.savePopupAsSignature(e,t))},selectDocumentSession:function(e,t,o,n){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.selectDocumentSession(e,t,o,n))},deselectDocumentSession:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.deselectDocumentSession(e))},editDocumentName:function(e,t){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.editDocumentName(e,t))},toggleHelpSideBar:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.toggleHelpSideBar())},openFreeWriteLoadingDocumentModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_LOADING_DOCUMENT))},closeFreeWriteLoadingDocumentModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.closeModal(r.default.FREE_WRITE_LOADING_DOCUMENT))},finishFreeWriteLoadingDocumentModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.finishModal(r.default.FREE_WRITE_LOADING_DOCUMENT)),e&&e()},openFreeWriteDocumentReadyModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_DOCUMENT_READY))},closeFreeWriteDocumentReadyModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.closeModal(r.default.FREE_WRITE_DOCUMENT_READY))},openFreeWriteExportDocumentModal:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openFreeWriteExportDocumentModal(e))},closeFreeWriteExportDocumentModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.closeModal(r.default.FREE_WRITE_EXPORT_DOCUMENT))},openFreeWriteDocumentShareModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_DOCUMENT_SHARE))},expandFreeWriteDocumentSignatureSection:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.expandFreeWriteSignatureSection())},openFreeWriteEraserInstructionModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_ERASER_INSTRUCTION))},openFreeWriteHighlighterInstructionModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_HIGHLIGHTER_INSTRUCTION))},openFreeWriteRedactInstructionModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_REDACT_INSTRUCTION))},openFreeWriteSignatureCancelModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_CANCEL_SIGNATURE))},openFreeWriteSignatureCancelSurveyModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_CANCEL_SIGNATURE_SURVEY))},openFreeWriteRequireSignatureModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_REQUIRE_SIGNATURE))},openFreeWriteSignatureReminderModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_SIGNATURE_REMINDER))},selectEfileState:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.selectState(e))},openFreeWriteUploadLoadingModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_UPLOAD_LOADING))},closeFreeWriteUploadLoadingModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.closeModal(r.default.FREE_WRITE_UPLOAD_LOADING))},openFreeWriteUploadReadyModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.FREE_WRITE_UPLOAD_READY))},openStaticFinishLaterModal:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.openModal(r.default.STATIC_FINISH_LATER))},setFreeWriteUploadReadyRedirectURL:function(e,t,o,n){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setUploadRedirectURL(e,t,o,n))},setStaticBuilderNavStep:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setStaticBuilderNavStep(e))},saveFreeWriteContent:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.saveFreeWriteContent())},startFreeWriteAutoSave:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.startFreeWriteAutoSave())},stopFreeWriteAutoSave:function(){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.stopAutoSave())},editPDFPagesSetPagesFromFile:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setPagesFromFile(e))},setZoomMode:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setZoomMode(e))},getStaticBuilderCurrentStep:function(){return window.FormSwift.React.store.getState().StaticBuilderReducer.step},setStaticBuilderStepHistory:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setStaticBuilderStepHistory(e))},getStaticBuilderSectionKeys:function(){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.getStaticBuilderSectionKeys())},setStaticBuilderSectionKeys:function(e){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setStaticBuilderSectionKeys(e))},setStaticBuilderSaveProgressBarAnimationStep:function(e){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setStaticBuilderSaveProgressBarAnimationStep(e))},startStaticBuilderSaveProgressBarAnimation:function(){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.startStaticBuilderSaveProgressBarAnimation())},finishStaticBuilderSaveProgressBarAnimation:function(){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.finishStaticBuilderSaveProgressBarAnimation())},disableStaticBuilderSaveProgressBarAnimation:function(){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.disableStaticBuilderSaveProgressBarAnimation())},loadDocumentContent:function(e){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.loadDocumentContent(e))},saveStaticBuilderSectionContent:function(e,t,o,n,i,r,a){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.saveStaticBuilderSectionContent(e,t,o,n,i,r,a))},addStaticBuilderOnSectionLoadAction:function(e){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.addStaticBuilderOnSectionLoadAction(e))},loadNextStaticBuilderSection:function(e){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.loadNextStaticBuilderSection(e))},loadStaticBuilderSection:function(e){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.loadStaticBuilderSection(e))},enableRecipientSignature:function(){return window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.enableRecipientSignature())},setPopupAttachedToMouse:function(e){window.FormSwift.React.store.dispatch(window.FormSwift.React.actions.setPopupAttachedToMouse(e))}};e.exports=a},593:function(e,t,o){"use strict";(function(t){var n=o(170),i=function(e){return e&&e.__esModule?e:{default:e}}(n);window.jQuery=window.$=t;var r=o(33),a=o(34),u={};u.openSigManagerFromPopup=function(e){return clearAfterEraser(),a.openSignatureManager(e),!1},u.useSignature=function(e,t,o){var n=r(),u=a.getState();if(u.EditorStateHandler.mode===i.default.REQUEST_SIGNATURE_FILL&&window.ReactCompatibility.getState().EditorStateHandler.useShareRequest){var s=u.popupHandler.activePopup;a.updateRequestSignaturePopupContentSettings(s,{imageUrl:e,imgIdx:n}),window.ReactCompatibility.closeSignatureManager()}else{var l=0,d=0;if(o){var c=a.getState().popupHandler.popups[o];l=c.x,d=c.y,a.deletePopup(o)}a.createSignaturePopup(e,n,getPageIndex(),t,l,d),window.ReactCompatibility.closeSignatureManager(),attachImgToMouse()}void 0!==window.signatureModalTest&&(window.signatureModalTest.shownModal||(window.signatureModalTest.renderModal(),window.signatureModalTest.shownModal=!0))},u.saveAndUseButtonStatus=function(e){var t=e;t.html("Generating..."),t.addClass("disabled"),setTimeout(function(){t.removeClass("disabled"),t.html("Add Signature")},2e3)},e.exports=u}).call(t,o(15))},789:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p=o(244),f=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getClassName=e.getClassName.bind(e),e.dropdownToggleOnClick=e.dropdownToggleOnClick.bind(e),e.dropdownItemOnClick=e.dropdownItemOnClick.bind(e),e}return a(t,e),u(t,[{key:"getClassName",value:function(){return"dropdown "+this.props.buttonClass}},{key:"dropdownToggleOnClick",value:function(){this.props.trackingCategory&&this.props.trackingAction&&window._track(""+this.props.trackingCategory,""+this.props.trackingAction)}},{key:"dropdownItemOnClick",value:function(e,t){this.props.trackingCategory&&this.props.trackingAction&&window._track(this.props.trackingCategory+" "+t,""+this.props.trackingAction),e()}},{key:"render",value:function(){var e=this,t=this.props.actionSelection,o=this.props.buttonContent;return l.default.createElement(p.Dropdown,{id:this.props.buttonId,className:this.getClassName()},l.default.createElement(p.Dropdown.Toggle,{onClick:this.dropdownToggleOnClick,className:"btn btn-mini"},o),l.default.createElement(p.Dropdown.Menu,{className:"dropdown-menu",role:"menu"},Object.keys(t).map(function(o){var n=t[o],i=n.action,r=n.className,a=n.colorLabel,u=void 0===a?"":a,s=n.label,d=n.labelClass,c=n.labelStyle,f=void 0===c?{}:c,g=u||s,h=s.split(" ").join(""),b=u||h;return l.default.createElement(p.MenuItem,{key:o.toString(),className:r,id:"freewriteBuilder"+b,onClick:function(){e.dropdownItemOnClick(i,g)}},l.default.createElement("span",{className:d,style:f},s))})))}}]),t}(l.default.Component);t.default=f,f.defaultProps={buttonClass:"",buttonId:"",trackingAction:"",trackingCategory:""},f.propTypes={actionSelection:c.default.arrayOf(c.default.shape({action:c.default.func.isRequired,className:c.default.string,label:c.default.string.isRequired,labelClass:c.default.string,labelStyle:c.default.shape({})})).isRequired,buttonClass:c.default.string,buttonContent:c.default.node.isRequired,buttonId:c.default.string,trackingAction:c.default.string,trackingCategory:c.default.string}},790:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p=o(23),f=n(p),g=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onClick=e.onClick.bind(e),e}return a(t,e),u(t,[{key:"onClick",value:function(){this.props.trackingCategory&&this.props.trackingAction&&window._track(""+this.props.trackingCategory,""+this.props.trackingAction),this.props.onClick(this.props.data)}},{key:"getClassName",value:function(){return"btn btn-mini "+this.props.buttonClass}},{key:"render",value:function(){return l.default.createElement("button",{className:this.getClassName(),disabled:this.props.disabled,id:this.props.buttonId,onClick:this.onClick},this.props.buttonContent)}}]),t}(l.default.Component);t.default=g,g.propTypes={buttonClass:c.default.string,buttonContent:c.default.node.isRequired,buttonId:c.default.string,data:f.default.popup.isRequired,onClick:c.default.func.isRequired,disabled:c.default.bool.isRequired,trackingAction:c.default.string,trackingCategory:c.default.string},g.defaultProps={buttonClass:"",buttonId:"",disabled:!1,trackingAction:"",trackingCategory:""}},791:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p=o(23),f=n(p),g=o(790),h=n(g),b=o(1423),w=n(b),m=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onIncreaseImgSize=e.onIncreaseImgSize.bind(e),e.onDecreaseImgSize=e.onDecreaseImgSize.bind(e),e.clearSignature=e.clearSignature.bind(e),e.getDeleteButton=e.getDeleteButton.bind(e),e.resize=e.resize.bind(e),e.getToolbarWrapper=e.getToolbarWrapper.bind(e),e}return a(t,e),u(t,null,[{key:"getClassName",value:function(e){switch(e){case"image":case"redact":case"eraser":case"highlighter":return"img_tool tool_container";case"logo":return"logo_tool tool_container";case"text":return"txt_tool tool_container";case"request-signature":return"share_tool tool_container";default:return""}}},{key:"getSignatureFontFamilyButton",value:function(){return{action:function(){window.signatureButtonClick()},className:"free-write-builder-signature-button",label:"Signature"}}}]),u(t,[{key:"onIncreaseImgSize",value:function(e){this.resize(e,10)}},{key:"onDecreaseImgSize",value:function(e){e.width<=20||this.resize(e,-10)}},{key:"getDeleteButton",value:function(e){var t="btn-danger",o=l.default.createElement("i",{className:"icon-trash icon-white"});return["image","eraser","highlighter","redact","logo"].indexOf(e.type)>-1?t+=" remove_img_btn":"text"===e.type&&(t+=" remove_text_btn"),l.default.createElement(h.default,{key:"delete",onClick:this.props.onDelete,data:e,buttonClass:t,buttonContent:o})}},{key:"getIncreaseImgButton",value:function(e){var t={verticalAlign:"middle",fontStyle:"normal",fontSize:"15px",fontWeight:"bold"},o={fontSize:"15px",verticalAlign:"top",lineHeight:"17px"},n=l.default.createElement("span",null,l.default.createElement("span",{className:"disable-select",style:t},"A"),l.default.createElement("span",{className:"disable-select",style:o},"↑"));return l.default.createElement(h.default,{key:"plus",onClick:this.onIncreaseImgSize,data:e,buttonClass:"plus_img_btn btn btn-mini",buttonContent:n})}},{key:"getDecreaseImgButton",value:function(e){var t={verticalAlign:"middle",fontStyle:"normal",fontSize:"12px",fontWeight:"bold"},o={fontSize:"15px",verticalAlign:"top",lineHeight:"17px"},n=l.default.createElement("span",null,l.default.createElement("span",{className:"disable-select",style:t},"A"),l.default.createElement("span",{className:"disable-select",style:o},"↓"));return l.default.createElement(h.default,{key:"minus",onClick:this.onDecreaseImgSize,data:e,buttonClass:"minus_img_btn btn btn-mini",buttonContent:n})}},{key:"getToolbarWrapper",value:function(e){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getClassName(this.props.data.type);return this.props.isHidden&&(n+=" hidden"),o?l.default.createElement("div",{className:n},e.map(function(e){return e})):l.default.createElement("div",{className:n},e)}},{key:"getToolbarButtons",value:function(e){var t=this;switch(e.type){case"logo":case"image":var o=[this.getIncreaseImgButton(e),this.getDecreaseImgButton(e)];if(e.requestType){var n=l.default.createElement(h.default,{key:"redo",onClick:function(){t.props.loadPopupIdToSignatureManager(t.props.popupID)},data:e,buttonClass:"redo_sig_btn btn btn-mini",buttonContent:"Redo"}),i=l.default.createElement(h.default,{key:"clear",onClick:this.clearSignature,data:e,buttonClass:"clear_sig_btn btn btn-mini",buttonContent:"Clear"});return this.getToolbarWrapper([].concat(o,[n,i]))}return"logo"===e.type?this.getToolbarWrapper([l.default.createElement("div",{className:"logo_title",key:"logo-title"},"Logo")].concat(o,[this.getDeleteButton(e)])):this.getToolbarWrapper([].concat(o,[this.getDeleteButton(e)]));case"text":return this.getToolbarWrapper(l.default.createElement(w.default,this.props),!1);case"redact":case"eraser":case"highlighter":return this.getToolbarWrapper([this.getDeleteButton(e)]);case"request-signature":return this.props.disabled?this.getToolbarWrapper([this.getDeleteButton(e)]):this.getToolbarWrapper([]);default:return this.getToolbarWrapper([])}}},{key:"clearSignature",value:function(){this.props.onAttributesChanged({imageUrl:"",imgIdx:""})}},{key:"resize",value:function(e,t){var o=e.width+t;this.props.onAttributesChanged({width:o,height:o/e.aspectRatio})}},{key:"render",value:function(){return this.getToolbarButtons(this.props.data)}}]),t}(l.default.Component);t.default=m,m.propTypes={data:f.default.popup.isRequired,isHidden:c.default.bool.isRequired,disabled:c.default.bool.isRequired,onAttributesChanged:c.default.func.isRequired,onDelete:c.default.func.isRequired,popupID:c.default.string.isRequired,loadPopupIdToSignatureManager:c.default.func.isRequired,createSignatureEvent:c.default.func.isRequired}},818:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),l=n(s),d=o(1),c=n(d),p=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={hovering:!1},e}return a(t,e),u(t,[{key:"render",value:function(){var e={pointerEvents:"none",width:"100%",height:"100%",display:"block",position:"absolute"};return l.default.createElement("img",{src:this.props.data.imageUrl,className:"img stack move_img_bt",style:e,disabled:this.props.disabled,role:"presentation",alt:""})}}]),t}(l.default.Component);t.default=p,p.propTypes={data:c.default.shape({imageUrl:c.default.string.isRequired}).isRequired,disabled:c.default.bool.isRequired}},819:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),l=o(0),d=n(l),c=o(1),p=n(c),f=o(821),g=n(f),h=o(1425),b=o(1627),w=n(b),m=o(1630),y=n(m),S=o(1632),v=n(S),R=o(818),T=n(R),_=o(1629),E=n(_),F=o(1631),C=n(F),P={resizeProps:{minWidth:12,minHeight:12}},k=(0,g.default)(v.default),O=(0,g.default)(w.default),A=(0,g.default)(y.default),x=(0,g.default)(T.default,P),I=(0,g.default)(E.default,P),q=(0,g.default)(C.default,P),M=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={dragging:!1,hovering:!1},e.nextTextareaState=e.nextTextareaState.bind(e),e.isActive=e.isActive.bind(e),e.getCommonProps=e.getCommonProps.bind(e),e.renderRequestSignatureChildPopup=e.renderRequestSignatureChildPopup.bind(e),e}return u(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){var o=this.props,n=o.activePopup,r=i(o,["activePopup"]),a=e.activePopup,u=i(e,["activePopup"]),s=t!==this.state,l=JSON.stringify(r)!==JSON.stringify(u);switch(this.props.data.type){case"image":case"logo":case"text":return this.props.id===n||this.props.id===a||s||l;default:return!0}}},{key:"getCommonProps",value:function(){return{id:this.props.id,activePopup:this.props.activePopup,className:this.props.className,data:this.props.data,disabled:this.props.disabled,draggable:this.props.draggable,extraClassName:this.props.extraClassName,fixedPopupSize:this.props.fixedPopupSize,nextTextareaState:this.nextTextareaState,onAttributesChanged:this.props.onAttributesChanged,onClick:this.props.onClick,resizable:this.props.resizable,isSelected:this.isActive()}}},{key:"isActive",value:function(){return this.props.activePopup===this.props.id}},{key:"nextTextareaState",value:function(e){this.props.nextTextareaState(e)}},{key:"renderRequestSignatureChildPopup",value:function(e,t){var o=this.getCommonProps();switch(t.requestType){case"date":return d.default.createElement(h.FreeWriteRequestSignatureDatePopup,o);case"sign":return d.default.createElement(h.FreeWriteRequestSignatureSignPopup,o);case"text":return d.default.createElement(h.FreeWriteRequestSignatureTextPopup,o);default:return d.default.createElement("div",null)}}},{key:"render",value:function(){var e=this.props.data,t=this.props.id,o=this.getCommonProps();switch(e.type){case"checkbox":return d.default.createElement(O,o);case"logo":case"image":return d.default.createElement(A,o);case"eraser":return d.default.createElement(x,o);case"highlighter":return d.default.createElement(I,o);case"redact":return d.default.createElement(q,o);case"text":return d.default.createElement(k,o);case"request-signature":return this.renderRequestSignatureChildPopup(t,e);default:return d.default.createElement("div",{className:"popup"})}}}]),t}(d.default.Component);t.default=M,M.propTypes={activePopup:p.default.string.isRequired,data:p.default.shape({hovering:p.default.bool,pageIdx:p.default.number,requestType:p.default.string,type:p.default.string.isRequired,x:p.default.number.isRequired,y:p.default.number.isRequired}).isRequired,className:p.default.string,disabled:p.default.bool.isRequired,draggable:p.default.bool.isRequired,extraClassName:p.default.string,fixedPopupSize:p.default.bool,id:p.default.string.isRequired,onAttributesChanged:p.default.func,onClick:p.default.func,nextTextareaState:p.default.func.isRequired,resizable:p.default.bool,setZoomMode:p.default.func,isZoomed:p.default.bool},M.defaultProps={className:"",extraClassName:"",fixedPopupSize:!1,isZoomed:!1,onAttributesChanged:null,onClick:null,resizable:!1,setZoomMode:null}},821:function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},d=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(0),p=i(c),f=o(1),g=i(f),h=o(3),b=n(h),w=o(2),m=i(w),y=o(820),S=i(y),v=o(49),R=n(v),T=o(791),_=i(T),E=o(234),F=i(E),C=o(4),P=o(1447),k=i(P),O=o(232),A=o(452),x=o(1635),I={optionalLeftRuler:{margin:1,linePosition:"left"},optionalBottomRuler:{margin:-2,linePosition:"bottom"}},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=function(t){function o(e){a(this,o);var t=u(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));t.onAttributesChanged=t.onAttributesChanged.bind(t),t.onClick=t.onClick.bind(t),t.onDelete=t.onDelete.bind(t),t.onDoubleClick=t.onDoubleClick.bind(t),t.getClassName=t.getClassName.bind(t),t.onMove=t.onMove.bind(t),t.getStyles=t.getStyles.bind(t),t.onDelete=t.onDelete.bind(t),t.onMouseEnter=t.onMouseEnter.bind(t),t.onMouseLeave=t.onMouseLeave.bind(t),t.loadPopupIdToSignatureManager=t.loadPopupIdToSignatureManager.bind(t),t.isToolbarActive=t.isToolbarActive.bind(t),t.onMouseUp=t.onMouseUp.bind(t),t.showRuler=t.showRuler.bind(t),t.getOptionalRulers=t.getOptionalRulers.bind(t),t.getPopupContent=t.getPopupContent.bind(t),t.isPopupActive=t.isPopupActive.bind(t),t.getContentOutlineClasses=t.getContentOutlineClasses.bind(t),t.getContainerProperties=t.getContainerProperties.bind(t),t.getPopupToolbar=t.getPopupToolbar.bind(t),t.isType=t.isType.bind(t),t.didDrag=t.didDrag.bind(t),t.didResize=t.didResize.bind(t),t.showToolbarOnHoverType=t.showToolbarOnHoverType.bind(t),t.isImageType=t.isImageType.bind(t);var n=["text","image"],i=n.includes(t.props.data.type);return t.state={hovering:!1,isRulerType:i},t}return s(o,t),d(o,null,[{key:"getDataAttributes",value:function(e,t){var o={"data-id":e,"data-page-idx":t.pageIdx,"data-x":t.x,"data-y":t.y};return["image","logo","eraser","highlighter","redact"].indexOf(t.type)>-1&&t.imgIdx&&(o["data-img-idx"]=t.imgIdx),o}}]),d(o,[{key:"componentDidUpdate",value:function(e){this.props.isDragging===e.isDragging||this.props.isDragging||this.didDrag(),this.props.isResizing===e.isResizing||this.props.isResizing||this.didResize()}},{key:"onMove",value:function(e,t,o){this.props.onMove(e,t,o)}},{key:"onMouseUp",value:function(){this.props.setRulerActive(!1)}},{key:"onAttributesChanged",value:function(e){this.props.onAttributesChanged(this.props.id,e)}},{key:"onClick",value:function(e){if(this.props.isZoomed)return this.props.setZoomMode(!1),void e.stopPropagation();this.props.onClick&&this.props.onClick()}},{key:"onDelete",value:function(){this.props.data.imgType===O.ImageTypes.SIGNATURE&&this.props.createSignatureEvent("signature_delete",A.SignatureEventEnum.EVENT_DATA,window.COOKIE.get("userid")),this.props.onDelete(this.props.id)}},{key:"onDoubleClick",value:function(){this.showToolbarOnHoverType()&&!this.props.disabled&&this.onAttributesChanged({})}},{key:"onMouseEnter",value:function(){this.props.disabled||this.setState({hovering:!0})}},{key:"onMouseLeave",value:function(){this.setState({hovering:!1})}},{key:"getClassName",value:function(){var e;return(0,m.default)((e={"is-react":!0,popup:!0,"with-resize-handle":this.showToolbarOnHoverType()},r(e,this.props.extraClassName,this.props.extraClassName),r(e,"active",this.props.isSelected),r(e,"hover",this.state.hovering||this.showToolbarOnHoverType()&&this.props.data.hovering),r(e,"img_popup",this.isImageType()),r(e,"eraser-area",this.isType("eraser","redact")),r(e,"highlighter-area",this.isType("highlighter")),r(e,"logo_popup",this.isType("logo")),r(e,"text_popup",this.isType("text")),r(e,"checkbox_popup",this.isType("checkbox")),r(e,"request-signature",this.isType("request-signature")),r(e,"request-signature-"+this.props.data.requestType+"-popup",this.isType("request-signature")),e))}},{key:"getStyles",value:function(){var e=this.props.data.zIndex,t={position:"absolute",zIndex:e};return this.showToolbarOnHoverType()&&(t.width=this.props.data.width,t.height=this.props.data.height,t.zIndex=0),t}},{key:"getPopupContent",value:function(){var t=this.onAttributesChanged,o=this.onDelete,n=this.onMove,i=this.props,r=i.id,a=i.nextTextareaState,u=i.data,s=i.fixedPopupSize,l=i.disabled,d=i.isSelected,c=u.pageIdx,f={id:r,nextTextareaState:a,data:u,fixedPopupSize:s,disabled:l,isSelected:d,pageIdx:c,onAttributesChanged:t,onDelete:o,onMove:n};return p.default.createElement(e,f)}},{key:"getOptionalRulers",value:function(){var e={lineColor:this.props.rulerState.color,visible:this.showRuler()};return this.state.isRulerType?k.default.createRulers(I,e):{}}},{key:"getContentOutlineClasses",value:function(){var e=this.props.rulerState||{},t=e.isRulerActive,o=e.rulerToggledOn;return(0,m.default)({"drag-handle":!0,"show-outline":t&&!this.isPopupActive()&&o})}},{key:"getContainerProperties",value:function(){var e=this.onClick,t=this.onDoubleClick,n=this.onMouseEnter,i=this.onMouseLeave,r=this.onMouseUp,a=this.props,u=a.id,s=a.data,d=this.getStyles(),c=this.getClassName(),p=o.getDataAttributes(u,s);return l({className:c},p,{onClick:e,onDoubleClick:t,onMouseEnter:n,onMouseLeave:i,onMouseUp:r,style:d})}},{key:"getPopupToolbar",value:function(){var e=this.onAttributesChanged,t=this.onDelete,o=this.clearActivePopup,n=this.props,i=n.id,r=n.data,a=n.disabled,u=n.loadPopupIdToSignatureManager,s=n.createSignatureEvent,l=i,d=!this.isToolbarActive()||this.showRuler(),c={onAttributesChanged:e,onDelete:t,isHidden:d,data:r,disabled:a,popupID:l,loadPopupIdToSignatureManager:u,createSignatureEvent:s,clearActivePopup:o};return p.default.createElement(_.default,c)}},{key:"didDrag",value:function(){this.showToolbarOnHoverType()&&this.isToolbarActive()&&this.props.clearActivePopup()}},{key:"didResize",value:function(){this.showToolbarOnHoverType()&&this.isToolbarActive()&&this.props.clearActivePopup()}},{key:"isType",value:function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.indexOf(this.props.data.type)>-1}},{key:"isPopupActive",value:function(){return this.props.activePopup===this.props.id}},{key:"isToolbarActive",value:function(){var e=this.props.activePopup===this.props.id,t=this.state.isRulerType&&this.props.rulerState.rulerToggledOn,o=!this.props.disabled||this.props.data.requestType,n=this.props.rulerState.isRulerActive,i=this.showToolbarOnHoverType()&&this.state.hovering&&!n;return t?e&&!n&&o:i||e&&o}},{key:"loadPopupIdToSignatureManager",value:function(e){this.props.loadPopupIdToSignatureManager(e)}},{key:"showRuler",value:function(){return this.state.isRulerType&&this.isPopupActive()&&this.props.rulerState.rulerToggledOn&&this.props.rulerState.isRulerActive}},{key:"showToolbarOnHoverType",value:function(){return this.isType("redact","highlighter","eraser")}},{key:"isImageType",value:function(){return this.isType("redact","highlighter","eraser","logo","image")}},{key:"render",value:function(){var e=this.getContainerProperties(),t=this.getContentOutlineClasses(),o=this.getPopupToolbar(),n=this.getOptionalRulers(),i=n.optionalLeftRuler,r=n.optionalBottomRuler,a=this.getPopupContent();return p.default.createElement("div",e,i,o,p.default.createElement("div",{className:t},a),r,this.props.resizeHandleComponent)}}]),o}(p.default.Component);o.defaultProps={activePopup:"",disabled:!1,extraClassName:"",fixedPopupSize:!1,isSelected:!1,isZoomed:!1,onClick:null,resizeHandleComponent:null,setZoomMode:null,rulerState:g.default.shape({rulerToggledOn:!1,color:""}),isDragging:!1,isResizing:!1},o.propTypes={activePopup:g.default.string,id:g.default.string.isRequired,data:g.default.shape({height:g.default.number,hovering:g.default.bool,imgType:g.default.string,requestType:g.default.string,type:g.default.string,width:g.default.number,zIndex:g.default.number}).isRequired,disabled:g.default.bool,extraClassName:g.default.string,fixedPopupSize:g.default.bool,isSelected:g.default.bool,onMove:g.default.func.isRequired,isZoomed:g.default.bool,nextTextareaState:g.default.func.isRequired,onAttributesChanged:g.default.func.isRequired,onClick:g.default.func,onDelete:g.default.func.isRequired,loadPopupIdToSignatureManager:g.default.func.isRequired,createSignatureEvent:g.default.func.isRequired,resizeHandleComponent:g.default.node,setZoomMode:g.default.func,rulerState:g.default.shape({rulerToggledOn:g.default.bool,color:g.default.string,isRulerActive:g.default.bool}),setRulerActive:g.default.func.isRequired,clearActivePopup:g.default.func.isRequired,isDragging:g.default.bool.isRequired,isResizing:g.default.bool.isRequired};var n=function(e,t){var o=e.popupHandler,n=e.RulerToolReducer;return{zIndex:t.data.zIndex,x:t.data.x,y:t.data.y,pageIdx:t.data.pageIdx,width:t.data.width,height:t.data.height,bounds:".page[data-page-number='"+t.data.pageIdx+"']",draggable:t.draggable,resizable:t.resizable,rulerState:n,isPopupAttachedToMouse:o.isPopupAttachedToMouse}},i=function(e){return(0,C.bindActionCreators)({onMove:x.moveFreeWritePopup,onAttributesChanged:R.changePopup,onDelete:R.deletePopup,setRulerActive:R.setRulerActive,clearActivePopup:R.clearActivePopup,loadPopupIdToSignatureManager:R.loadPopupIdToSignatureManager,createSignatureEvent:R.createSignatureEvent},e)},c=function(e,t,o){return Object.assign({},e,t,o,{onAttributesChanged:o.onAttributesChanged||t.onAttributesChanged})},f=(0,F.default)(o);return b.connect(n,i,c)((0,S.default)(f,t))};t.default=q}},[2417]);
//# sourceMappingURL=react-app.js.map